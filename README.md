# Note
## MySQL
### 索引

什么是聚簇索引？
找到了索引就找到了需要的数据，那么这个索引就是聚簇索引，所以主键就是聚簇索引，修改聚簇索引其实就是修改主键。
什么是非聚簇索引？
索引的存储和数据的存储是分离的，也就是说找到了索引但没找到数据，需要根据索引上的值(主键)再次回表查询,非聚簇索引也叫做辅助索引。

### 事务隔离级别是怎么实现的？
1. 事务的特性 ACID
A: Atomicity 一个事务中的所有操作，要么全部完成，要么全部不完成(通过回滚日志保证)
C:Consistency 事务操作前后满足数据的完整性约束 （通过其他三者保证）
I:Isolation 多个事务并发执行 不会相互干扰 （MVCC或者锁机制保证）
D:Durability 事务执行结束，对事务的修改是永久的（通过重做日志保证）

2. 并行事务会引发什么问题？
在同时处理多个事务的时候，就可能出现脏读（dirty read）、不可重复读（non-repeatable read）、幻读（phantom read）的问题。
1.脏读（dirty read）：一个事务「读到」了另一个「未提交事务修改过的数据」
2.不可重复读（non-repeatable read）：在一个事务内多次读取同一个数据，如果出现前后两次读到的数据不一样的情况，就意味着发生了「不可重复读」现象。

假设有 A 和 B 这两个事务同时在处理，事务 A 先开始从数据库中读取小林的余额数据，然后继续执行代码逻辑处理，在这过程中如果事务 B 更新了这条数据，并提交了事务，那么当事务 A 再次读取该数据时，就会发现前后两次读到的数据是不一致的，这种现象就被称为不可重复读。
3.幻读（phantom read）：在一个事务内多次查询某个符合查询条件的「记录数量」，==如果出现前后两次查询到的记录数量不一样的情况==，就意味着发生了「幻读」现象。
